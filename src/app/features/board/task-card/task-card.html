<div class="task-card" cdkDrag>
    <div class="task-card-content">
        <div class="task-category">{{ task.category }}</div>
        <h3 class="task-title">{{ task.title }}</h3>
        <p class="task-description">{{ task.description }}</p>

        @if (task.subtasks && task.subtasks.length > 0) {
        <div class="task-progress">
            <span>{{ completedSubtasksCount }}/{{ task.subtasks.length }} Subtasks</span>
        </div>
        }

        <div class="task-footer">
            <div class="assigned-users">
                @for (userId of task.assignedTo; track userId) {
                <div class="user-badge">
                    {{ userId }}
                </div>
                }
            </div>
            <div class="priority">
                {{ task.priority }}
            </div>
        </div>
    </div>
</div>
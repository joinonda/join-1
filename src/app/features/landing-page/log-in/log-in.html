<div class="header-actions">
    <span class="not-user-text">Not a Join user?</span>
    <button type="button" class="signup-btn" (click)="navigateToSignUp()">Sign up</button>
</div>

<div class="login-container">

    <div class="login-card">
        <h1>Log in</h1>
        <div class="underline"></div>

        <form class="login-form" #loginForm="ngForm">

            <div class="input-group">
                <input 
                    type="email" 
                    [(ngModel)]="email" 
                    name="email" 
                    placeholder="Email" 
                    class="form-input"
                    [class.error]="emailError"
                    #emailInput="ngModel"
                    required
                    email
                    (blur)="validateEmail()" />
                <img src="assets/signup/mail-signup.png" alt="Email" class="input-icon" />
                
                <div class="error-message">
                    @if (emailError) {
                        <span>{{ emailError }}</span>
                    }
                </div>
            </div>

            <div class="input-group">
                <input 
                    type="password" 
                    [(ngModel)]="password" 
                    name="password" 
                    placeholder="Password"
                    class="form-input"
                    [class.error]="passwordError"
                    required
                    (blur)="validatePassword()" />
                <img src="assets/signup/lock-signup.png" alt="Password" class="input-icon" />
                
                <div class="error-message">
                    @if (passwordError) {
                        <span>{{ passwordError }}</span>
                    }
                </div>
            </div>

            @if (errorMessage) {
                <div class="general-error">
                    {{ errorMessage }}
                </div>
            }

            <div class="button-group">
                <button 
                    type="button" 
                    class="btn-primary" 
                    (click)="onLogin()"
                    [disabled]="isLoading">
                    @if (isLoading) {
                        <span>Logging in...</span>
                    } @else {
                        <span>Log in</span>
                    }
                </button>
                <button 
                    type="button" 
                    class="btn-secondary" 
                    (click)="onGuestLogin()"
                    [disabled]="isLoading">
                    Guest Log in
                </button>
            </div>
        </form>
    </div>
</div>

<div class="header-actions-mobile">
    <span class="not-user-text">Not a Join user?</span>
    <button type="button" class="signup-btn" (click)="navigateToSignUp()">Sign up</button>
</div>